<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition>

	<p:dialog id="createDlg" widgetVar="createDialog" modal="true"
		dynamic="true" resizable="false" appendToBody="true"
		header="#{loc.CreateOamItemQuotationTitle}">

		<h:form id="createForm">
			
			<h:panelGroup id="display">
				<p:panelGrid columns="2"
					rendered="#{quotationItemManagementBean.selected != null}">
					<p:outputLabel   value="#{loc.EditOamItemQuotationTitle_quotation}" />
					<p:selectOneMenu id="quotation" styleClass="fullWith" disabled="#{ quotationItemManagementBean.parentQuotation  != null}"
						value="#{quotationItemManagementBean.selected.quotation}" converter="#{quotationConverter}"
						required="true"
						requiredMessage="#{loc.EditOamItemQuotationRequiredMessage_quotation}">
						<f:selectItem itemValue="" itemLabel="#{loc.SelectOneMessage}" />
						<f:selectItems value="#{quotationItemManagementBean.oamQuotataions}"
							var="quotation" itemValue="#{quotation}" itemLabel="#{quotation.quotationDescription}" />
					</p:selectOneMenu>
					<p:outputLabel value="#{loc.EditOamItemQuotationTitle_projectItem}" />
					<p:selectOneMenu id="projectItem"  styleClass="fullWith"
						value="#{quotationItemManagementBean.selected.projectItem}"
						required="true" converter="#{projectItemConverter}"
						requiredMessage="#{loc.EditOamItemQuotationRequiredMessage_projectItem}">
						<f:selectItem itemValue="" itemLabel="#{loc.SelectOneMessage}" />
						<f:selectItems value="#{quotationItemManagementBean.projectItems}"
							var="projectItemItem" itemValue="#{projectItemItem}" itemLabel="#{projectItemItem.item.itemDescription}" />
					</p:selectOneMenu>
					<p:outputLabel value="#{loc.CreateOamItemQuotationTitle_qutItem}" />

					<p:spinner id="qutItem"  styleClass="fullWith" min="1" max="999"
						value="#{quotationItemManagementBean.selected.qutItem}"
						 required="true"
						requiredMessage="#{loc.CreateOamItemQuotationRequiredMessage_qutItem}" />
						
						<p:outputLabel value="#{loc.CreateOamItemQuotationTitle_observationDescription}"/>
					<p:inputTextarea id="observationDescription" styleClass="fullWith"
						value="#{quotationItemManagementBean.selected.observationDescription}" maxlength="80"
						 />
					
				</p:panelGrid>
				<p:commandButton
					actionListener="#{quotationItemManagementBean.saveNew}"
					value="#{loc.Save}"
					update="display,:growl,:listForm:datalist"
					oncomplete="if(!args.validationFailed){PF('createDialog').hide();}" />
				<p:commandButton value="#{loc.Cancel}" immediate="true" onclick="PF('createDialog').hide()" />
			</h:panelGroup>

		</h:form>

	</p:dialog>

</ui:composition>

</html>
